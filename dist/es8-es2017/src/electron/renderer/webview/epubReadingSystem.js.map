{"version":3,"file":"epubReadingSystem.js","sourceRoot":"","sources":["../../../../../../src/electron/renderer/webview/epubReadingSystem.ts"],"names":[],"mappings":";;;AAyBA,SAAgB,mCAAmC,CAAC,GAAiC,EAAE,GAAQ;IAE3F,MAAM,GAAG,GAAG,EAAwB,CAAC;IACpC,GAAG,CAAC,SAA8B,CAAC,iBAAiB,GAAG,GAAG,CAAC;IAC5D,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC;IAClC,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,IAAI,OAAO,CAAC;IAErC,GAAG,CAAC,UAAU,GAAG,CAAC,OAAe,EAAE,QAAgB,EAAE,EAAE;QACnD,QAAQ,OAAO,EAAE;YACb,KAAK,kBAAkB,CAAC,CAAC;gBACrB,OAAO,IAAI,CAAC;aACf;YACD,KAAK,gBAAgB,CAAC,CAAC;gBACnB,OAAO,IAAI,CAAC;aACf;YACD,KAAK,cAAc,CAAC,CAAC;gBACjB,OAAO,IAAI,CAAC;aACf;YACD,KAAK,cAAc,CAAC,CAAC;gBACjB,OAAO,IAAI,CAAC;aACf;YACD,KAAK,iBAAiB,CAAC,CAAC;gBACpB,OAAO,IAAI,CAAC;aACf;YACD,KAAK,iBAAiB,CAAC,CAAC;gBACpB,OAAO,IAAI,CAAC;aACf;YACD,OAAO,CAAC,CAAC,OAAO,KAAK,CAAC;SACzB;IACL,CAAC,CAAC;AACN,CAAC;AA9BD,kFA8BC","sourcesContent":["// ==LICENSE-BEGIN==\n// Copyright 2017 European Digital Reading Lab. All rights reserved.\n// Licensed to the Readium Foundation under one or more contributor license agreements.\n// Use of this source code is governed by a BSD-style license\n// that can be found in the LICENSE file exposed on Github (readium) in the project repository.\n// ==LICENSE-END==\n\nimport { ReadiumElectronWebviewWindow } from \"./state\";\n\n// http://www.idpf.org/epub/31/spec/epub-contentdocs.html#app-epubReadingSystem\n\nexport interface INameVersion {\n    name: string;\n    version: string;\n}\n\ninterface IEpubReadingSystem extends INameVersion {\n    hasFeature: (feature: string, version: string) => boolean;\n}\n\ninterface IWindowNavigator extends Navigator {\n    epubReadingSystem: IEpubReadingSystem;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function setWindowNavigatorEpubReadingSystem(win: ReadiumElectronWebviewWindow, obj: any) {\n\n    const ers = {} as IEpubReadingSystem;\n    (win.navigator as IWindowNavigator).epubReadingSystem = ers;\n    ers.name = obj.name || \"Readium2\";\n    ers.version = obj.version || \"0.0.0\";\n\n    ers.hasFeature = (feature: string, _version: string) => {\n        switch (feature) {\n            case \"dom-manipulation\": {\n                return true;\n            }\n            case \"layout-changes\": {\n                return true;\n            }\n            case \"touch-events\": {\n                return true;\n            }\n            case \"mouse-events\": {\n                return true;\n            }\n            case \"keyboard-events\": {\n                return true;\n            }\n            case \"spine-scripting\": {\n                return true;\n            }\n            default: return false;\n        }\n    };\n}\n"]}