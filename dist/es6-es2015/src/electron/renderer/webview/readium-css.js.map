{"version":3,"file":"readium-css.js","sourceRoot":"","sources":["../../../../../../src/electron/renderer/webview/readium-css.ts"],"names":[],"mappings":"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","sourcesContent":["import { ipcRenderer } from \"electron\";\r\n\r\nimport {\r\n    R2_EVENT_READIUMCSS,\r\n} from \"../../common/events\";\r\n\r\nconst win = (global as any).window as Window;\r\n\r\nconst urlRootReadiumCSS = win.location.origin + \"/readium-css/iOS/\";\r\n// const urlResizeSensor = win.location.origin + \"/resize-sensor.js\";\r\n\r\nexport const DEBUG_VISUALS = false;\r\n\r\nconst focusCssStyles = `\r\n*:focus {\r\noutline-style: solid !important;\r\noutline-width: 2px !important;\r\noutline-color: blue !important;\r\noutline-offset: 0px !important;\r\n}\r\n*.no-focus-outline:focus {\r\noutline-style: none !important;\r\n}\r\n`;\r\n\r\nconst selectionCssStyles = `\r\n::selection {\r\nbackground-color: rgb(155, 179, 240) !important;\r\ncolor: black !important;\r\n}\r\n\r\n:root.mdc-theme--dark ::selection {\r\nbackground-color: rgb(100, 122, 177) !important;\r\ncolor: white !important;\r\n}\r\n/*\r\n.readium2-hash {\r\n    color: black !important;\r\n    background-color: rgb(185, 207, 255) !important;\r\n}\r\n:root.mdc-theme--dark .readium2-hash {\r\n    color: white !important;\r\n    background-color: rgb(67, 64, 125) !important;\r\n}\r\n*/\r\n`;\r\n\r\nconst scrollBarCssStyles = `\r\n::-webkit-scrollbar-button {\r\nheight: 0px !important;\r\nwidth: 0px !important;\r\n}\r\n\r\n::-webkit-scrollbar-corner {\r\nbackground: transparent !important;\r\n}\r\n\r\n/*::-webkit-scrollbar-track-piece {\r\nbackground-color: red;\r\n} */\r\n\r\n::-webkit-scrollbar {\r\nwidth:  14px;\r\nheight: 14px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\nbackground: #727272;\r\nbackground-clip: padding-box !important;\r\nborder: 3px solid transparent !important;\r\nborder-radius: 30px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:hover {\r\nbackground: #4d4d4d;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\nbox-shadow: inset 0 0 3px rgba(40, 40, 40, 0.2);\r\nbackground: #dddddd;\r\nbox-sizing: content-box;\r\n}\r\n\r\n::-webkit-scrollbar-track:horizontal {\r\nborder-top: 1px solid silver;\r\n}\r\n::-webkit-scrollbar-track:vertical {\r\nborder-left: 1px solid silver;\r\n}\r\n\r\n:root.mdc-theme--dark ::-webkit-scrollbar-thumb {\r\nbackground: #a4a4a4;\r\nborder: 3px solid #545454;\r\n}\r\n\r\n:root.mdc-theme--dark ::-webkit-scrollbar-thumb:hover {\r\nbackground: #dedede;\r\n}\r\n\r\n:root.mdc-theme--dark ::-webkit-scrollbar-track {\r\nbackground: #545454;\r\n}\r\n\r\n:root.mdc-theme--dark ::-webkit-scrollbar-track:horizontal {\r\nborder-top: 1px solid black;\r\n}\r\n:root.mdc-theme--dark ::-webkit-scrollbar-track:vertical {\r\nborder-left: 1px solid black;\r\n}`;\r\n\r\nconst readPosCssStyles = `\r\n:root[style*=\"readium-sepia-on\"] .readium2-read-pos,\r\n:root[style*=\"readium-night-on\"] .readium2-read-pos,\r\n.readium2-read-pos {\r\n    color: red !important;\r\n    background-color: silver !important;\r\n}\r\n:root[style*=\"readium-sepia-on\"] .readium2-read-pos2,\r\n:root[style*=\"readium-night-on\"] .readium2-read-pos2,\r\n.readium2-read-pos2 {\r\n    color: blue !important;\r\n    background-color: yellow !important;\r\n}`;\r\n\r\nexport const injectDefaultCSS = () => {\r\n    appendCSSInline(\"electron-selection\", selectionCssStyles);\r\n    appendCSSInline(\"electron-focus\", focusCssStyles);\r\n    appendCSSInline(\"electron-scrollbars\", scrollBarCssStyles);\r\n};\r\n\r\nexport const injectReadPosCSS = () => {\r\n    if (!DEBUG_VISUALS) {\r\n        return;\r\n    }\r\n    appendCSSInline(\"electron-readPos\", readPosCssStyles);\r\n};\r\n\r\nlet _isVerticalWritingMode = false;\r\nexport function isVerticalWritingMode(): boolean {\r\n    return _isVerticalWritingMode;\r\n}\r\n\r\nlet _isRTL = false;\r\nexport function isRTL(): boolean {\r\n    return _isRTL;\r\n}\r\n\r\nfunction computeVerticalRTL() {\r\n\r\n    let dirAttr = win.document.documentElement.getAttribute(\"dir\");\r\n    if (dirAttr === \"rtl\") {\r\n        _isRTL = true;\r\n    }\r\n    if (!_isRTL && win.document.body) {\r\n        dirAttr = win.document.body.getAttribute(\"dir\");\r\n        if (dirAttr === \"rtl\") {\r\n            _isRTL = true;\r\n        }\r\n    }\r\n\r\n    const htmlStyle = window.getComputedStyle(win.document.documentElement);\r\n    if (htmlStyle) {\r\n        let prop = htmlStyle.getPropertyValue(\"writing-mode\");\r\n        if (!prop) {\r\n            prop = htmlStyle.getPropertyValue(\"-epub-writing-mode\");\r\n        }\r\n        if (prop && prop.indexOf(\"vertical\") >= 0) {\r\n            _isVerticalWritingMode = true;\r\n        }\r\n        if (prop && prop.indexOf(\"-rl\") > 0) {\r\n            _isRTL = true;\r\n        }\r\n        if (!_isRTL) {\r\n            prop = htmlStyle.getPropertyValue(\"direction\");\r\n            if (prop && prop.indexOf(\"rtl\") >= 0) {\r\n                _isRTL = true;\r\n            }\r\n        }\r\n    }\r\n    if ((!_isVerticalWritingMode || !_isRTL) && win.document.body) {\r\n        const bodyStyle = window.getComputedStyle(win.document.body);\r\n        if (bodyStyle) {\r\n            let prop: string;\r\n            if (!_isVerticalWritingMode) {\r\n                prop = bodyStyle.getPropertyValue(\"writing-mode\");\r\n                if (!prop) {\r\n                    prop = bodyStyle.getPropertyValue(\"-epub-writing-mode\");\r\n                }\r\n                if (prop && prop.indexOf(\"vertical\") >= 0) {\r\n                    _isVerticalWritingMode = true;\r\n                }\r\n                if (prop && prop.indexOf(\"-rl\") > 0) {\r\n                    _isRTL = true;\r\n                }\r\n            }\r\n            if (!_isRTL) {\r\n                prop = htmlStyle.getPropertyValue(\"direction\");\r\n                if (prop && prop.indexOf(\"rtl\") >= 0) {\r\n                    _isRTL = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    console.log(\"_isVerticalWritingMode: \" + _isVerticalWritingMode);\r\n    console.log(\"_isRTL: \" + _isRTL);\r\n}\r\n\r\n// after DOMContentLoaded\r\nwin.addEventListener(\"load\", () => {\r\n    // console.log(\"R-CSS WIN LOAD\");\r\n\r\n    computeVerticalRTL();\r\n});\r\n\r\nconst ensureHead = () => {\r\n    const docElement = win.document.documentElement;\r\n\r\n    if (!win.document.head) {\r\n        const headElement = win.document.createElement(\"head\");\r\n        if (win.document.body) {\r\n            docElement.insertBefore(headElement, win.document.body);\r\n        } else {\r\n            docElement.appendChild(headElement);\r\n        }\r\n    }\r\n};\r\n\r\nipcRenderer.on(R2_EVENT_READIUMCSS, (_event: any, messageString: any) => {\r\n    const messageJson = JSON.parse(messageString);\r\n    readiumCSS(messageJson);\r\n});\r\n\r\nfunction readiumCSSInject(messageJson: any) {\r\n\r\n    if (typeof messageJson.injectCSS === \"undefined\") {\r\n        return;\r\n    }\r\n\r\n    const docElement = win.document.documentElement;\r\n    ensureHead();\r\n\r\n    const remove = (typeof messageJson.injectCSS === \"string\" && messageJson.injectCSS.indexOf(\"rollback\") >= 0)\r\n        || !messageJson.injectCSS;\r\n\r\n    if (remove) {\r\n        docElement.removeAttribute(\"data-readiumcss\");\r\n        removeAllCSS();\r\n        removeAllCSSInline();\r\n        return;\r\n    }\r\n\r\n    if (!docElement.hasAttribute(\"data-readiumcss\")) {\r\n        docElement.setAttribute(\"data-readiumcss\", \"yes\");\r\n\r\n        let needsDefaultCSS = true;\r\n        if (win.document.head && win.document.head.childElementCount) {\r\n            let elem = win.document.head.firstElementChild;\r\n            while (elem) {\r\n                if ((elem.localName && elem.localName.toLowerCase() === \"style\") ||\r\n                    (elem.getAttribute &&\r\n                        (elem.getAttribute(\"rel\") === \"stylesheet\" ||\r\n                            elem.getAttribute(\"type\") === \"text/css\" ||\r\n                            (elem.getAttribute(\"src\") &&\r\n                                (elem.getAttribute(\"src\") as string).endsWith(\".css\"))))) {\r\n                    needsDefaultCSS = false;\r\n                    break;\r\n                }\r\n                elem = elem.nextElementSibling;\r\n            }\r\n        }\r\n        if (needsDefaultCSS && win.document.body) {\r\n            const styleAttr = win.document.body.querySelector(\"*[style]\");\r\n            if (styleAttr) {\r\n                needsDefaultCSS = false;\r\n            }\r\n        }\r\n\r\n        // appendCSS(\"base\");\r\n        // appendCSS(\"html5patch\");\r\n        // appendCSS(\"safeguards\");\r\n        // appendCSS(\"default\");\r\n        // appendCSS(\"highlights\");\r\n        // if (messageJson.injectCSS.indexOf(\"scroll\") >= 0) {\r\n        //     appendCSS(\"scroll\");\r\n        // } else {\r\n        //     appendCSS(\"pagination\");\r\n        // }\r\n        // if (messageJson.injectCSS.indexOf(\"night_mode\") >= 0) {\r\n        //     appendCSS(\"night_mode\");\r\n        // } else if (messageJson.injectCSS.indexOf(\"sepia_mode\") >= 0) {\r\n        //     appendCSS(\"pagination\");\r\n        // }\r\n        // appendCSS(\"os_a11y\");\r\n        // appendCSS(\"user_settings\");\r\n        // if (messageJson.injectCSS.indexOf(\"fs_normalize\") >= 0) {\r\n        //     appendCSS(\"fs_normalize\");\r\n        // }\r\n\r\n        appendCSS(\"before\");\r\n        if (needsDefaultCSS) {\r\n            appendCSS(\"default\");\r\n        }\r\n        appendCSS(\"after\");\r\n    }\r\n}\r\n\r\nfunction readiumCSSSet(messageJson: any) {\r\n    if (typeof messageJson.setCSS === \"undefined\") {\r\n        return;\r\n    }\r\n\r\n    const docElement = win.document.documentElement;\r\n\r\n    // tslint:disable-next-line:max-line-length\r\n    // https://github.com/readium/readium-css/tree/develop/prototype/iOS-implem#manage-user-settings\r\n    // tslint:disable-next-line:max-line-length\r\n    // https://github.com/readium/readium-css/blob/develop/prototype/iOS-implem/Specific-docs/CSS12-api.md#user-settings\r\n    // tslint:disable-next-line:max-line-length\r\n    // https://github.com/readium/readium-css/blob/develop/prototype/iOS-implem/Specific-docs/CSS09-user_prefs.md#switches\r\n\r\n    const remove = (typeof messageJson.setCSS === \"string\" && messageJson.setCSS.indexOf(\"rollback\") >= 0)\r\n        || !messageJson.setCSS;\r\n    if (remove) {\r\n\r\n        docElement.style.overflow = \"auto\";\r\n\r\n        const toRemove: string[] = [];\r\n        for (let i = 0; i < docElement.style.length; i++) {\r\n            const item = docElement.style.item(i);\r\n            if (item.indexOf(\"--USER__\") === 0) {\r\n                toRemove.push(item);\r\n            }\r\n        }\r\n        toRemove.forEach((item) => {\r\n            docElement.style.removeProperty(item);\r\n        });\r\n\r\n        docElement.classList.remove(\"mdc-theme--dark\");\r\n    } else {\r\n        let dark = false;\r\n        let night = false;\r\n        let sepia = false;\r\n        let invert = false;\r\n        let paged = false;\r\n        let font: string | undefined;\r\n        let fontSize: string | undefined;\r\n        let lineHeight: string | undefined;\r\n        let colCount: string | undefined;\r\n        let align: string | undefined;\r\n        if (typeof messageJson.setCSS === \"object\") {\r\n            if (messageJson.setCSS.dark) {\r\n                dark = true;\r\n            }\r\n            if (messageJson.setCSS.night) {\r\n                night = true;\r\n            }\r\n            if (messageJson.setCSS.sepia) {\r\n                sepia = true;\r\n            }\r\n            if (messageJson.setCSS.invert) {\r\n                invert = true;\r\n            }\r\n            if (messageJson.setCSS.paged) {\r\n                paged = true;\r\n            }\r\n            if (typeof messageJson.setCSS.font === \"string\") {\r\n                font = messageJson.setCSS.font;\r\n            }\r\n            if (typeof messageJson.setCSS.fontSize === \"string\") {\r\n                fontSize = messageJson.setCSS.fontSize;\r\n            }\r\n            if (typeof messageJson.setCSS.lineHeight === \"string\") {\r\n                lineHeight = messageJson.setCSS.lineHeight;\r\n            }\r\n            if (typeof messageJson.setCSS.colCount === \"string\") {\r\n                colCount = messageJson.setCSS.colCount;\r\n            }\r\n            if (typeof messageJson.setCSS.align === \"string\") {\r\n                align = messageJson.setCSS.align;\r\n            }\r\n        }\r\n\r\n        if (night) {\r\n            // win.document.body\r\n            docElement.classList.add(\"mdc-theme--dark\");\r\n        } else {\r\n            // win.document.body\r\n            docElement.classList.remove(\"mdc-theme--dark\");\r\n        }\r\n\r\n        const needsAdvanced = true; // dark || invert;\r\n\r\n        // readium-advanced-on | readium-advanced-off\r\n        docElement.style.setProperty(\"--USER__advancedSettings\",\r\n            needsAdvanced ? \"readium-advanced-on\" : \"readium-advanced-off\");\r\n\r\n        // readium-darken-on | readium-darken-off\r\n        docElement.style.setProperty(\"--USER__darkenFilter\",\r\n            dark ? \"readium-darken-on\" : \"readium-darken-off\");\r\n\r\n        // readium-invert-on | readium-invert-off\r\n        docElement.style.setProperty(\"--USER__invertFilter\",\r\n            invert ? \"readium-invert-on\" : \"readium-invert-off\");\r\n\r\n        // readium-default-on | readium-sepia-on | readium-night-on\r\n        docElement.style.setProperty(\"--USER__appearance\",\r\n            sepia ? \"readium-sepia-on\" : (night ? \"readium-night-on\" : \"readium-default-on\"));\r\n\r\n        // readium-paged-on | readium-scroll-on\r\n        docElement.style.setProperty(\"--USER__view\",\r\n            paged ? \"readium-paged-on\" : \"readium-scroll-on\");\r\n        if (paged) {\r\n            docElement.style.overflow = \"hidden\";\r\n            docElement.classList.add(\"readium-paginated\");\r\n        } else {\r\n            docElement.classList.remove(\"readium-paginated\");\r\n        }\r\n\r\n        const needsFontOverride = typeof font !== \"undefined\" && font !== \"DEFAULT\";\r\n        // readium-font-on | readium-font-off\r\n        docElement.style.setProperty(\"--USER__fontOverride\",\r\n            needsFontOverride ? \"readium-font-on\" : \"readium-font-off\");\r\n\r\n        // var(--RS__oldStyleTf) | var(--RS__modernTf) | var(--RS__sansTf) | var(--RS__humanistTf) | AccessibleDfa\r\n        docElement.style.setProperty(\"--USER__fontFamily\",\r\n            !needsFontOverride ? \"\" :\r\n                (font === \"DYS\" ? \"AccessibleDfa\" :\r\n                    (font === \"OLD\" ? \"var(--RS__oldStyleTf)\" :\r\n                        (font === \"MODERN\" ? \"var(--RS__modernTf)\" :\r\n                            (font === \"SANS\" ? \"var(--RS__sansTf)\" :\r\n                                (font === \"HUMAN\" ? \"var(--RS__humanistTf)\" :\r\n                                    (font === \"MONO\" ? \"var(--RS__monospaceTf)\" :\r\n                                        (font ? font : \"var(--RS__oldStyleTf)\")\r\n                                    )\r\n                                )\r\n                            )\r\n                        )\r\n                    )\r\n                ));\r\n\r\n        // left (LTR) or right (RTL) | justify\r\n        docElement.style.setProperty(\"--USER__textAlign\",\r\n            align === \"justify\" ? \"justify\" :\r\n                (align === \"right\" ? \"right\" :\r\n                    (align === \"left\" ? \"left\" :\r\n                        (align === \"center\" ? \"center\" :\r\n                            (align === \"initial\" ? \"initial\" : \"inherit\")\r\n                        )\r\n                    )\r\n                ));\r\n\r\n        // 75% | 87.5% | 100% | 112.5% | 137.5% | 150% | 162.5% | 175% | 200% | 225% | 250%\r\n        docElement.style.setProperty(\"--USER__fontSize\", fontSize ? fontSize : \"100%\");\r\n\r\n        // 1 | 1.125 | 1.25 | 1.35 | 1.5 | 1.65 | 1.75 | 2\r\n        docElement.style.setProperty(\"--USER__lineHeight\", lineHeight ? lineHeight : \"2\");\r\n\r\n        // 1 | 2 | auto\r\n        docElement.style.setProperty(\"--USER__colCount\", colCount ? colCount : \"auto\");\r\n\r\n        // // auto | none\r\n        // docElement.style.setProperty(\"--USER__bodyHyphens\", \"auto\");\r\n\r\n        // // 1 | 1.067 | 1.125 | 1.2 (suggested default) | 1.25 | 1.333 | 1.414 | 1.5 | 1.618\r\n        // docElement.style.setProperty(\"--USER__typeScale\", \"1.2\");\r\n\r\n        // // 0 | 0.375rem | 0.75rem | 1rem | 1.125rem | 1.25rem | 1.35rem | 1.5rem | 1.65rem | 1.75rem | 2rem\r\n        // docElement.style.setProperty(\"--USER__paraSpacing\", \"1rem\");\r\n\r\n        // // 0 | 0.5rem | 1rem | 1.25rem | 1.5rem | 2rem | 2.5rem | 3rem\r\n        // docElement.style.setProperty(\"--USER__paraIndent\", \"1rem\");\r\n\r\n        // // 0.125rem | 0.25rem | 0.375rem | 0.5rem\r\n        // docElement.style.setProperty(\"--USER__wordSpacing\", \"0.5rem\");\r\n\r\n        // // 0.0675rem | 0.125rem | 0.1875rem | 0.25rem\r\n        // docElement.style.setProperty(\"--USER__letterSpacing\", \"0.1875rem\");\r\n\r\n        // // 0.5 | 0.75 | 1 | 1.25 | 1.5 | 1.75 | 2\r\n        // docElement.style.setProperty(\"--USER__pageMargins\", \"1.25\");\r\n\r\n        // docElement.style.setProperty(\"--USER__backgroundColor\", \"#FFFFFF\");\r\n        // docElement.style.setProperty(\"--USER__textColor\", \"#000000\");\r\n    }\r\n}\r\n\r\nexport const readiumCSS = (messageJson: any) => {\r\n    readiumCSSInject(messageJson);\r\n    readiumCSSSet(messageJson);\r\n};\r\n\r\nfunction appendCSSInline(id: string, css: string) {\r\n    ensureHead();\r\n\r\n    const styleElement = win.document.createElement(\"style\");\r\n    styleElement.setAttribute(\"id\", \"Readium2-\" + id);\r\n    styleElement.setAttribute(\"type\", \"text/css\");\r\n    styleElement.appendChild(document.createTextNode(css));\r\n    win.document.head.appendChild(styleElement);\r\n}\r\n\r\n// unused (for now)\r\n// function removeCSSInline(id: string) {\r\n//     const styleElement = win.document.getElementById(\"Readium2-\" + id);\r\n//     if (styleElement && styleElement.parentNode) {\r\n//         styleElement.parentNode.removeChild(styleElement);\r\n//     }\r\n// }\r\n\r\nfunction appendCSS(mod: string) {\r\n    ensureHead();\r\n\r\n    const linkElement = win.document.createElement(\"link\");\r\n    linkElement.setAttribute(\"id\", \"ReadiumCSS-\" + mod);\r\n    linkElement.setAttribute(\"rel\", \"stylesheet\");\r\n    linkElement.setAttribute(\"type\", \"text/css\");\r\n    linkElement.setAttribute(\"href\", urlRootReadiumCSS + \"ReadiumCSS-\" + mod + \".css\");\r\n    if (mod === \"before\" && win.document.head.childElementCount) {\r\n        win.document.head.insertBefore(linkElement, win.document.head.firstElementChild);\r\n    } else {\r\n        win.document.head.appendChild(linkElement);\r\n    }\r\n}\r\n\r\nfunction removeCSS(mod: string) {\r\n    const linkElement = win.document.getElementById(\"ReadiumCSS-\" + mod);\r\n    if (linkElement && linkElement.parentNode) {\r\n        linkElement.parentNode.removeChild(linkElement);\r\n    }\r\n}\r\n\r\nfunction removeAllCSSInline() {\r\n    // removeCSSInline(\"electron-selection\");\r\n    // removeCSSInline(\"electron-focus\");\r\n    // removeCSSInline(\"electron-scrollbars\");\r\n}\r\n\r\nfunction removeAllCSS() {\r\n    removeCSS(\"before\");\r\n    removeCSS(\"after\");\r\n    removeCSS(\"base\");\r\n    removeCSS(\"html5patch\");\r\n    removeCSS(\"safeguards\");\r\n    removeCSS(\"default\");\r\n    removeCSS(\"highlights\");\r\n    removeCSS(\"scroll\");\r\n    removeCSS(\"pagination\");\r\n    removeCSS(\"night_mode\");\r\n    removeCSS(\"pagination\");\r\n    removeCSS(\"os_a11y\");\r\n    removeCSS(\"user_settings\");\r\n    removeCSS(\"fs_normalize\");\r\n}\r\n"]}