{"version":3,"file":"store-electron.js","sourceRoot":"","sources":["../../../../../src/electron/common/store-electron.ts"],"names":[],"mappings":";;AAEA,8CAAiD;AAEjD;IAGI,uBAAY,IAAY,EAAW,QAAa;QAAb,aAAQ,GAAR,QAAQ,CAAK;QAC5C,IAAI,CAAC,cAAc,GAAG,IAAI,aAAa,CAAC;YACpC,QAAQ,UAAA;YACR,IAAI,MAAA;SACP,CAAC,CAAC;QACF,IAAI,CAAC,cAAsB,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;IAC3D,CAAC;IAEM,mCAAW,GAAlB;QACI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IAEM,2BAAG,GAAV,UAAW,GAAW;QAClB,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACxC,CAAC;IAEM,2BAAG,GAAV,UAAW,GAAuB,EAAE,KAAU;QAC1C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACN,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QACxC,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC;IACL,CAAC;IAEM,iCAAS,GAAhB,UAAiB,GAAW,EAAE,QAAgD;QACzE,IAAI,CAAC,cAAsB,CAAC,WAAW,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IAC5D,CAAC;IAEM,8BAAM,GAAb;QACI,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;IACvC,CAAC;IACL,oBAAC;AAAD,CAAC,AAlCD,IAkCC;AAlCY,sCAAa","sourcesContent":["import { IStore } from \"./store\";\r\n\r\nimport ElectronStore = require(\"electron-store\");\r\n\r\nexport class StoreElectron implements IStore {\r\n    private _electronStore: ElectronStore;\r\n\r\n    constructor(name: string, readonly defaults: any) {\r\n        this._electronStore = new ElectronStore({\r\n            defaults,\r\n            name,\r\n        });\r\n        (this._electronStore as any).events.setMaxListeners(0);\r\n    }\r\n\r\n    public getDefaults(): any {\r\n        return this.defaults;\r\n    }\r\n\r\n    public get(key: string): any {\r\n        return this._electronStore.get(key);\r\n    }\r\n\r\n    public set(key: string | undefined, value: any) {\r\n        if (key) {\r\n            this._electronStore.set(key, value);\r\n        } else {\r\n            this._electronStore.set(value);\r\n        }\r\n    }\r\n\r\n    public onChanged(key: string, callback: (newValue: any, oldValue: any) => void): void {\r\n        (this._electronStore as any).onDidChange(key, callback);\r\n    }\r\n\r\n    public reveal() {\r\n        this._electronStore.openInEditor();\r\n    }\r\n}\r\n"]}